<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Gale Transforms</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<div>
		<h2>Face Test</h2>
		<p id="p1">Select the vertices for which you would like to carry out the Face Test</p>
		<input type="checkbox" id="chbx1" name="chbx"> vertex 1 </input>
		<input type="checkbox" id="chbx2" name="chbx"> vertex 2 </input>
		<input type="checkbox" id="chbx3" name="chbx"> vertex 3 </input>
		<input type="checkbox" id="chbx4" name="chbx"> vertex 4 </input>
		<input type="checkbox" id="chbx5" name="chbx"> vertex 5 </input>
		<input type="checkbox" id="chbx6" name="chbx"> vertex 6 </input>
		<button onclick="checkForFace()">Is a Face?</button> </div>
		<p id="isAFace"></p>
		<div>
		<h2> Affine Gale Diagram</h2>
<<<<<<< Updated upstream
		<p id="p2">Click on the button to update Gale and Affine Gale Transformations</p>
		<button onclick="updateGaleAndAffine()">Compute Gale and Affine Gale</button>
		<p id="p3"></p>
=======
		<p id="p2">Click on the button to find the affine Gale diagram</p>
		<button onclick="edgesWrapper()">Compute Affine</button>
>>>>>>> Stashed changes
		</div>

		<script src="js/math.min.js"></script>
		<script src="js/lalolib.js"></script>
		<script src="js/three.js"></script>
		<script src="js/THREE.MeshLine.js"></script>
		<script src="js/Detector.js"></script>
		<script src="js/PointDragControls.js"></script>
		<script src="js/Vector3.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="AffineGaleDiagram/AffineGale.js"></script>
		<script src="FindFaces/findFaces.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="ComputeGaleDiagram/ComputeGaleDiagram.js"></script>
		<script src="PointPlacement/pointPlacement.js"></script>

		<div>
			<div>
				<script>
					pointPlacement()
				</script>
			</div>
			<div>
				<script>
					function computeAffine() {
						affGaleInit();
						console.log(gale_array[0]);
						affineGale = affineGalePoints(gale_array[0]);
						console.log(affineGale);
						dispAffGale(affineGale);
					}
				</script>
			</div>
			<div>
				<script type="text/javascript">
<<<<<<< Updated upstream
				var scaling_factor = 30;
				var gale_array = computeAndDisplayGaleDiagram(getPos(), scaling_factor);
				computeAffine();
				document.getElementById("p3").innerHTML = "<b>Gale Vertices:</b> " + gale_array[1];
				function updateGaleAndAffine(){
					gale_array = updateGaleDiagram(getPos(), scaling_factor)
					document.getElementById("p3").innerHTML = "Gale Vertices: " + gale_array[1];
					computeAffine(); //TODO change this to updateAffine()
				}
				function checkForFace() {
						var inputElements = document.getElementsByName('chbx');
						//console.log(inputElements);
						var verts_indices = [];
						for(var i=0; inputElements[i]; ++i){
							//console.log(inputElements[i].checked);
							if(inputElements[i].checked){
								verts_indices.push(i);
							}
						}
						console.log(verts_indices);
						isAFace = isFace(gale_array[0], verts_indices);
						if (isAFace == true) {
							var result_str = "<b>";
							if (verts_indices.length == 1)
								result_str += "Vertex ";
							else
								result_str += "Vertices ";
=======
					// standard global variables
					//var container, scene, camera, renderer, controls, stats;
					// custom global variables
					//var cube;
					//var projector, mouse = { x: 0, y: 0 }, INTERSECTED;
					//var sprite1;
					//var canvas1, context1, texture1;
					var gale_diag_matrix = computeAndDisplayGaleDiagram(getPos());
					addEdges(gale_diag_matrix)
					//testwrapper(gale_diag_matrix)
					isFace(gale_diag_matrix,[0,4])
					//document.getElementById("p1").innerHTML = "Check the vertices for which you would like to carry out the Face Test:";
					//document.getElementById("p2").innerHTML = "Click on the button to find the affine Gale diagram";
					function updateGale(){
						updateGaleDiagram(getPos())
					}
					function edgesWrapper(){
						addEdges(gale_diag_matrix)
						//addFace(gale_diag_matrix,[0,1,2])
						addFace(gale_diag_matrix,[0,2,3,5])
					}	
					function checkForFace() {
							
							/*var indices = [];
							if (document.getElementById("chbx1").checked == true)
								indices.push(0);
							if (document.getElementById("chbx2").checked == true)
								indices.push(1);
							if (document.getElementById("chbx3").checked == true)
								indices.push(2);
							if (document.getElementById("chbx4").checked == true)
								indices.push(3);
							if (document.getElementById("chbx5").checked == true)
								indices.push(4);
							if (document.getElementById("chbx6").checked == true)
								indices.push(5);*/
							//console.log(indices);
							//console.log(gale_diag_matrix);
							var inputElements = document.getElementsByName('chbx');
							//console.log(inputElements);
							var verts_indices = [];
							for(var i=0; inputElements[i]; ++i){
								//console.log(inputElements[i].checked);
								if(inputElements[i].checked){
									verts_indices.push(i);
								}
							}
							console.log(verts_indices);
							addFace(gale_diag_matrix,verts_indices)
							isAFace = isFace(gale_diag_matrix, verts_indices);
							if (isAFace == true) {
								var result_str = "";
								if (verts_indices.length == 1)
									result_str = "Vertex ";
								else
									result_str = "Vertices ";
>>>>>>> Stashed changes

								for (var i = 0; i < verts_indices.length-1; i++) {
									result_str += verts_indices[i]+1;
									result_str += ", ";
								}
								result_str += verts_indices[i]+1;
								if (verts_indices.length == 1)
									result_str += " constitutes a face in the given diagram.";
								else
									result_str += " constitute a face in the given diagram.";
								//document.getElementById("isAFace").innerHTML = isAFace.toString()
								document.getElementById("isAFace").innerHTML = result_str;
							}
<<<<<<< Updated upstream
							result_str += verts_indices[i]+1;
							if (verts_indices.length == 1)
								result_str += " constitutes";
							else
								result_str += " constitute";
							result_str += " a face in the given diagram.</b>";
							//document.getElementById("isAFace").innerHTML = isAFace.toString()
							document.getElementById("isAFace").innerHTML = result_str;
							console.log(result_str);
						}
						else if (isAFace == false) {
							var result_str = "<b>";
							if (verts_indices.length == 1)
								result_str += "Vertex ";
							else
								result_str += "Vertices ";
							for (var i = 0; i < verts_indices.length-1; i++) {
=======
							else if (isAFace == false) {
								var result_str = "";
								if (verts_indices.length == 1)
									result_str = "Vertex ";
								else
									result_str = "Vertices ";
								for (var i = 0; i < verts_indices.length-1; i++) {
									result_str += verts_indices[i]+1;
									result_str += ", ";
								}
>>>>>>> Stashed changes
								result_str += verts_indices[i]+1;
								if (verts_indices.length == 1)
									result_str += " does not constitute a face in the given diagram.";
								else
									result_str += " do not constitute a face in the given diagram.";
								//document.getElementById("isAFace").innerHTML = isAFace.toString()
								document.getElementById("isAFace").innerHTML = result_str;
							}
<<<<<<< Updated upstream
							result_str += verts_indices[i]+1;
							if (verts_indices.length == 1)
								result_str += " does not";
							else
								result_str += " do not";
							result_str += " constitute a face in the given diagram.</b>"
							//document.getElementById("isAFace").innerHTML = isAFace.toString()
							document.getElementById("isAFace").innerHTML = result_str;
							console.log(result_str);
						}
=======
							console.log(isAFace);
						}
				</script>
			</div>
			<div>
				<script>
					affGaleInit()
					
					//console.log(gale_diag_matrix);
					affineGale = affineGalePoints(gale_diag_matrix);
					//console.log(affineGale);
					dispAffGale(affineGale)
	
					
>>>>>>> Stashed changes
				</script>
			</div>
		</div>
	</body>
</html>
