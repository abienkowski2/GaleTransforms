<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Gale and Affine Gale Transformations</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
			h2 {text-align:center;}
		</style>
	</head>
	<body>
		<h2>Gale and Affine Gale Transformations</h2>
		<div>
		<p><b>Gale Transform: </b> Gale transforms are a method to visualize and determine information about high dimensional polytopes. At its core, the Gale Transform of a d dimensional polytope with n vertices (v<sub>1</sub>, v<sub>2</sub>, ..., v<sub>n</sub> &#x220A; &#x211D;<sup>d</sup>) is a basis of the null space of the (d+1) x n dimensional matrix where the first d rows have the vertex points as columns, and the last row is 1s. If a d-dimensional polytope with n vertices is represented as a matrix A in (d+1) space, then the kernel of A is the linear subspace<p>
<p style="text-align:center">ker<sub>&#x211D;</sub>(A) &#x2254; { x &#x220A; &#x211D;<sup>n</sup> : Ax = 0}</p>
<p>If there are (d+1) affinely independent vectors i.e., the rank of A is (d+1), then the dimension of the kernel of A is n-(d+1). This means that those n-(d+1) vectors in &#x211D;<sup>n</sup> form the basis for the vector space ker<sub>&#x211D;</sub>(A). These basis vectors can be represented as an n x (n-d-1) matrix</p>
<p style="text-align:center"> X &#x2254; (x<sub>1</sub> x<sub>2</sub> . . . x<sub>n-d-1</sub>)</p>
<p> Now, X<sup>t</sup> gives us a vector configuration in (n-d-1) x n, which is called the <b>Gale transform</b>.
<p style="text-align:center"> B = X<sup>t</sup> &#x2254; {b<sub>1</sub> b<sub>2</sub> . . . b<sub>n</sub> : b<sub>i</sub> &#x220A; &#x211D;<sup>n-d-1</sup>} </p>
		</div>
		<div>
		<p><b>Face Categorization:</b> If P is the convex polytope of given n vertices in &#x211D;<sup>d</sup>, and B is the Gale transform, then J &#x2286; [n] is a face of P if and only if either J = [n] or 0 &#x220A; relative_interior(conv({b<sub>k</sub> : k &#x2209; J})).</p>
		</div>
		<div>
		<b> Affine Gale Diagram: </b> It further reduces the dimension of the Gale diagram by one. Certain conditions on a collection of black and white dots in the affine Gale diagram is equivalent to the face test in the Gale diagram and thus, helps the user to read off the polytopal face lattice.
		</div>
		<br>
		<div>
		<p><b> Usage Instructions: </b> <ul> <li> The leftmost figure is the <b>convex polytope</b> of 6 points in 3-d, the middle one represents its corresponding <b>Gale diagram</b> with 6 vectors in 2-d, and the rightmost graph is the respective <b>affine Gale diagram</b> in 1-d.</li>
		<li> The color of a node or its associated label determines the correspondence between nodes across all three representations.</li>
		<li> The convex polytope has two operation modes: <i>movement</i> and <i>rotation</i>, which can be switched among each other using a (mouse) double click. </li>
		<li> In the <i>movement</i> mode, the single left click anywhere except on the nodes (spheres) helps the user move the graph in any direction until the key is released.</li>
		<li> In a similar manner, a node can also be moved in any direction using a single left click until the mouse key is released. <b>The change in the node location may yield a new polytope, and in turn, new Gale and affine Gale diagrams.</b></li>
		<li> In the <i>rotation</i> mode, the single left click lets the user to rotate the graph in 3 dimensional view.
		<li> The Gale diagram is used to determine faces in the original polytope. The selected vector in Gale diagram is highlighted with a black circle around it.</li>
		<li> Nodes, by definition, are zero dimensional faces of the polytope. If a selection of vectors in Gale diagram constitutes any 1 or 2 dimensional face, that face lattice is highlighted in red in the polytope.</li>
		</p>
		</div>
		<script src="js/math.min.js"></script>
		<script src="js/lalolib.js"></script>
		<script src="js/three.js"></script>
		<script src="js/THREE.MeshLine.js"></script>
		<script src="js/Detector.js"></script>
		<script src="js/PointDragControls.js"></script>
		<script src="js/Vector3.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="AffineGaleDiagram/AffineGale.js"></script>
		<script src="FindFaces/findFaces.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="ComputeGaleDiagram/ComputeGaleDiagram.js"></script>
		<script src="PointPlacement/pointPlacement.js"></script>

		<div>
			<div>
				<script>
					pointPlacement()
					
				</script>
			</div>
			<div>
				<script type="text/javascript">
					var scaling_factor = 30
					var gale_array = computeAndDisplayGaleDiagram(getPos(), scaling_factor);
					var gale_diag_matrix = gale_array[0]
					addEdges(gale_diag_matrix,-1,-1)
				</script>
			</div>
			<div>
				<script>
					affGaleInit()
					//console.log(gale_diag_matrix);
					affineGale = affineGalePoints(gale_diag_matrix);
					//console.log(affineGale);
					dispAffGale(affineGale)
				</script>
			</div>
		</div>
	</body>
</html>
